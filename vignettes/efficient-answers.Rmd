---
title: "Answers to exercises in Efficient R Programming"
author: "Colin Gillespie and Robin Lovelace"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Chapter 2

### R Version

#### 1. What version of R are you using? Is it the most up-to-date?

Your R version is stored in a variable called `R.Version`. Enter these commands to find out the version.

```{r}
R.version
R.version.string
```

This can be compared with the latest version, which is described on R's website: [cran.r-project.org/](https://cran.r-project.org/). If you've not got the latest version, consider installing the latest version!



#### 2. Do any of your packages need updating?

To find out which (if any) of your packages need updating use the following command:

```{r, eval=FALSE}
old.packages()
```

### R Startup

#### 1. What are the three locations where the startup files are stored? Where are these locations on your computer?

The three locations where startup files can be stored and used are `R_HOME`, `HOME` and the project's working directory. The specific locations of these places will vary from one computer to another but can be found using the following commands:

```{r}
R.home()
path.expand("~")
getwd()
```

See ?Startup for more details


#### 2. For each location, does a `.Rprofile` or `.Renviron` file exist?

Navigate to the locations outlined above to find out.

#### 3. Create a `.Rprofile` file in your current working directory that prints the message `Happy efficient R programming` each time you start R at this location.

To test if this works, restart the session (e.g. via `Shift+Ctrl+F10` in RStudio) and see if the message appears. Creating the following line in a file called `.Rprofile` in your project's root directory will do this:

```{r}
message("Happy efficient R programming")
```


#### 4. What happens to the startup files in `R_HOME` if you create them in `HOME` or local project directories? 

### RStudio

The `R_HOME` startup files will be ignored. Likewise the `HOME` startup files will be ignored if there are local startup files.

You are developing a project to visualise data.
Test out the multi-panel RStudio workflow by following the steps below:

1. Create a new folder for the input data using the **Files pane**.

2. Type in `downl` in the **Source pane** and hit `Enter` to make the function `download.file()` autocomplete. Then type `"`, which will autocomplete to `""`, paste the URL of a file to download (e.g. `https://www.census.gov/2010census/csv/pop_change.csv`) and a file name (e.g. `pop_change.csv`).
3. Execute the full command with `Ctl-Enter`:

    ```{r, eval=FALSE}
    download.file("https://www.census.gov/2010census/csv/pop_change.csv",
                  "data/pop_change.csv")
    ```

3. Write and execute a command to read-in the data, such as

    ```{r}
    pop_change = read.csv("data/pop_change.csv", skip = 2)
    ```

    ```{r, echo=FALSE}
    # question: complete example with plots and all here?
    ```

4. Use the **Environment pane** to click on the data object `pop_change`. Note that this runs the command `View(pop_change)`, which launches an interactive data explore pane in the top left panel (see Figure 2-3).

    ```{r 2-3, echo=FALSE, fig.cap="The data viewing tab in RStudio."}
    knitr::include_graphics("figures/View.png")
    ```

5. Use the **Console** to test different plot commands to visualise the data, saving the code you want to keep back into the **Source pane**, as `pop_change.R`.

6. Use the **Plots tab** in the Files pane to scroll through past plots. Save the best using the Export dropdown button.

The above example shows understanding of these panes and how to use them interactively can help with the speed and productivity of you R programming.
Further, there are a number of RStudio settings that can help ensure that it works for your needs.

#### RStudio project settings

1. Try modifying the look and appearance of your RStudio setup.

2. What is the keyboard shortcut to show the other shortcut? (Hint: it begins with `Alt+Shift`.)

3. Try as many of the shortcuts revealed by the previous step as you like. Write down the ones that you think will save you time, perhaps on a post-it note to go on your computer.

### BLAS 

### Exercises

1. Try modifying the look and appearance of your RStudio setup.

2. What is the keyboard shortcut to show the other shortcut? (Hint: it begins with `Alt+Shift`.)

3. Try as many of the shortcuts revealed by the previous step as you like. Write down the ones that you think will save you time, perhaps on a post-it note to go on your computer.

